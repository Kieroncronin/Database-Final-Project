doctype html
html
    head 
        title Student Page
        style.
            body { font-family: Arial, sans-serif; margin: 20px; }
            table { border-collapse: collapse; margin-bottom: 25px; width: 100%; }
            th, td { border: 1px solid #ccc; padding: 8px; text-align: left; }
            th { background-color: #eee; }
            h2 { margin-top: 30px; }
            .btn { padding: 4px 10px; border: none; border-radius: 3px; cursor: pointer; }
            .btn-enroll { background-color: #007bff; color: white; }
            .btn-drop { background-color: #d9534f; color: white; }
            .enrolled { color: green; font-weight: bold; }
    body
        p Your ID is: #{id}
        p Your role is: Student
        a(href="/") Back

        // Past / currently enrolled courses (read-only)
        h2 Enrolled Courses
        - var safeEnrolled = enrolled || []
        - if (safeEnrolled.length === 0)
            p You are not enrolled in any courses.
        - else
            table
                thead
                    tr
                        th Offering #
                        th Course #
                        th Instructor
                        th Term
                        th Year
                        th Grade
                tbody
                    - for (var i = 0; i < safeEnrolled.length; i++)
                        - var row = safeEnrolled[i]
                        tr
                            td #{row.OfferNo}
                            td #{row.CourseNo}
                            td #{row.Instructor || ''}
                            td #{row.OffTerm}
                            td #{row.OffYear}
                            td #{row.EnrGrade || 'N/A'}

        // Upcoming term offerings (Winter 2005) with Enroll/Drop buttons
        h2 Winter 2005 Course Offerings
        - var safeOfferings = offerings || []
        table
            thead
                tr
                    th Offering #
                    th Course #
                    th Instructor
                    th Location
                    th Time
                    th Days
                    th Action
            tbody
                - for (var i = 0; i < safeOfferings.length; i++)
                    - var o = safeOfferings[i]
                    tr
                        td #{o.OfferNo}
                        td #{o.CourseNo}
                        td #{o.Instructor || ''}
                        td #{o.OffLocation}
                        td #{o.OffTime}
                        td #{o.OffDays}
                        td
                            - if (o.enrolled)
                                form(action="/student/drop" method="POST")
                                    input(type="hidden" name="id" value=id)
                                    input(type="hidden" name="offering" value=o.OfferNo)
                                    button.btn.btn-drop(type="submit") Drop
                            - else
                                form(action="/student/enroll" method="POST")
                                    input(type="hidden" name="id" value=id)
                                    input(type="hidden" name="offering" value=o.OfferNo)
                                    button.btn.btn-enroll(type="submit") Enroll

